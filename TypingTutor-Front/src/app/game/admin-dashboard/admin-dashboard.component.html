<div class="admin-dashboard">
    <h2>Dashboard i Administratorit</h2>
  
    <!-- Display Overall Statistics -->
    <div class="statistics-cards">
      <mat-card class="stat-card" *ngIf="userStatistics">
        <mat-card-title>Shpejtësia Mesatare</mat-card-title>
        <mat-card-content>{{ userStatistics.averageSpeed | number:'1.0-1' }} WPM</mat-card-content>
      </mat-card>
  
      <mat-card class="stat-card" *ngIf="userStatistics">
        <mat-card-title>Saktësia Mesatare</mat-card-title>
        <mat-card-content>{{ userStatistics.averageAccuracy | number:'1.0-1' }}%</mat-card-content>
      </mat-card>
  
      <mat-card class="stat-card" *ngIf="userStatistics">
        <mat-card-title>Gabimet Mesatare</mat-card-title>
        <mat-card-content>{{ userStatistics.averageErrors | number:'1.0-1' }}</mat-card-content>
      </mat-card>
  
      <mat-card class="stat-card" *ngIf="userStatistics">
        <mat-card-title>Niveli Maksimal</mat-card-title>
        <mat-card-content>{{ userStatistics.maxLevel }}</mat-card-content>
      </mat-card>
    </div>
  
    <!-- Display All Users' Performance History -->
    <h3>Historia e Performancës së të Gjithë Përdoruesve</h3>
    <table mat-table [dataSource]="userProgressHistory" class="mat-elevation-z8">
      <ng-container matColumnDef="userName">
        <th mat-header-cell *matHeaderCellDef> Emri i Përdoruesit </th>
        <td mat-cell *matCellDef="let element"> {{ element.userName }} </td>
      </ng-container>
  
      <ng-container matColumnDef="levelId">
        <th mat-header-cell *matHeaderCellDef> Niveli </th>
        <td mat-cell *matCellDef="let element"> {{ element.levelId }} </td>
      </ng-container>
  
      <ng-container matColumnDef="speed">
        <th mat-header-cell *matHeaderCellDef> Shpejtësia (WPM) </th>
        <td mat-cell *matCellDef="let element"> {{ element.speed }} </td>
      </ng-container>
  
      <ng-container matColumnDef="accuracy">
        <th mat-header-cell *matHeaderCellDef> Saktësia (%) </th>
        <td mat-cell *matCellDef="let element"> {{ element.accuracy }} </td>
      </ng-container>
  
      <ng-container matColumnDef="errors">
        <th mat-header-cell *matHeaderCellDef> Gabimet </th>
        <td mat-cell *matCellDef="let element"> {{ element.errors }} </td>
      </ng-container>
  
      <ng-container matColumnDef="completionDate">
        <th mat-header-cell *matHeaderCellDef> Data e Përfundimit </th>
        <td mat-cell *matCellDef="let element"> {{ element.completionDate | date:'short' }} </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  